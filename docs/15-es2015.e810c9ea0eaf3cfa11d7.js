(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{jCuc:function(e,t,n){"use strict";n.r(t),n.d(t,"RegisterNewModule",(function(){return f}));var i=n("3Pt+"),r=n("PCNd"),o=n("tyNb"),a=n("mrSG"),c=n("zZuk"),s=n("zD6u"),b=n("XzyZ"),d=n("ysRA"),l=n("yx6F"),m=n("z9Me"),h=n("fXoL"),g=n("mqu9");const u=[{path:"",component:(()=>{class e extends m.a{constructor(e,t,n,r,o,c,s){super(),this.errorHandler=e,this.viewBillService=t,this.interactionService=n,this.spinnerWrapper=r,this.fb=o,this.helpService=c,this.route=s,this.nationalId="",this.mobileNumber="",this.address="",this.firstName="",this.sureName="",this.neighbourBillId="",this._notification=!1,this.showMessage=!1,this.minNeighbourBillId=4,this.maxNeidghbourBillId=13,this.clickableButton=!0,this.mobileLength=11,this.nationalIdLength=10,this.profileForm=this.fb.group({firstName:["",i.o.required],sureName:["",i.o.required],nationalId:["",[i.o.required,i.o.pattern("^[0-9]*$"),i.o.minLength(10),i.o.maxLength(10)]],phoneNumber:["",[i.o.pattern("^[0-9]*$"),i.o.minLength(8),i.o.maxLength(10)]],fatherName:[""],mobile:["",[i.o.required,i.o.minLength(11),i.o.maxLength(11),i.o.pattern("^[0-9]*$")]],SelectedServices:this.fb.array([1,2]),neighbourBillId:["",[i.o.required,i.o.pattern("^[0-9]*$"),i.o.minLength(3),i.o.maxLength(13)]],address:["",[i.o.required,i.o.minLength(10)]],requestOrigin:6,postalCode:["",[i.o.pattern("^[0-9]*$"),i.o.minLength(9),i.o.maxLength(10)]]}),this.pushOrPopFromMobileNumber=()=>{const e=[];return!!this.mobileNumber.toString().startsWith("09")||!!this.mobileNumber.toString().startsWith("9")&&(e.push(0),e.push(this.mobileNumber),this.mobileNumber=e.join(""),!0)},this.validInput1=()=>null!==this.nationalId.trim()&&this.nationalId.trim().length===this.nationalIdLength||(this.errorHandler.customToaster(4e3,"\u06a9\u062f \u0645\u0644\u06cc \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a"),!1),this.validInput2=()=>!(!this.pushOrPopFromMobileNumber()||""===this.mobileNumber.toString().trim()||this.mobileNumber.toString().trim().length>this.mobileLength||this.mobileNumber.toString().trim().length<this.mobileLength)||(this.errorHandler.customToaster(4e3,"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a"),!1),this.checkNeighbourBillId=()=>!(null===this.neighbourBillId.toString().trim()||this.neighbourBillId.toString().trim().length>this.maxNeidghbourBillId||this.neighbourBillId.toString().trim().length<this.minNeighbourBillId)||(this.errorHandler.customToaster(4e3,"\u0634\u0646\u0627\u0633\u0647 \u0642\u0628\u0636 \u0647\u0645\u0633\u0627\u06cc\u0647 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a"),!1),this.checkAddress=()=>!(""===this.address.toString().trim()||this.address.toString().trim().length<10)||(this.errorHandler.customToaster(4e3,"\u0622\u062f\u0631\u0633 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a"),!1),this.checkFirstName=()=>""!==this.firstName.toString().trim()||(this.errorHandler.customToaster(4e3,"\u0646\u0627\u0645 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"),!1),this.checkSureName=()=>""!==this.sureName.toString().trim()||(this.errorHandler.customToaster(4e3,"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"),!1),this.checkValidInput=()=>!!(this.checkFirstName()&&this.checkSureName()&&this.validInput1()&&this.validInput2()&&this.checkNeighbourBillId()&&this.checkAddress()),this.connectToServer=()=>new Promise(e=>e(this.viewBillService.setNewRegister(this.profileForm.value).subscribe(e=>{e&&(this.helpService.customMessage("\u0645\u0634\u062a\u0631\u06a9 \u06af\u0631\u0627\u0645\u06cc","\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062b\u0628\u062a \u0648 \u06a9\u062f \u067e\u06cc\u06af\u06cc\u0631\u06cc \u0628\u0631\u0627\u06cc \u0634\u0645\u0627 \u067e\u06cc\u0627\u0645\u06a9 \u0634\u062f","",""),this.helpService.help())}))),this.spinnerCondition=e=>{this.spinnerWrapper.loadingStatus$.subscribe(e=>{this.clickableButton=e,this._notification=e})},this.createSpinner=e=>{e?this.spinnerWrapper.startLoading():this.spinnerWrapper.stopLoading()},this.spinnerChecker=e=>new Promise(t=>setTimeout(()=>{t(this.createSpinner(e))},100)),this.nestingLevel=()=>Object(a.a)(this,void 0,void 0,(function*(){const e=this.checkValidInput();console.log(e),e&&(this.spinnerChecker(!0),yield this.spinnerChecker(e),this.spinnerCondition(e),e&&(yield this.connectToServer().catch(e=>console.log(e))))}))}onSubmit(){this.nestingLevel()}ngOnInit(){this.route.queryParams.subscribe(e=>{this.neighbourBillId=e.nid}),this.interactionService.metterAnnounceErrorText$.subscribe(e=>{e&&(this.$textError=e,this.showMessage=!0,this.$textError&&this.spinnerChecker(!1))})}}return e.\u0275fac=function(t){return new(t||e)(h.Kb(c.a),h.Kb(b.a),h.Kb(s.a),h.Kb(d.a),h.Kb(i.b),h.Kb(l.a),h.Kb(o.a))},e.\u0275cmp=h.Eb({type:e,selectors:[["app-register-new"]],features:[h.wb],decls:87,vars:7,consts:[[1,"title_content"],[1,"main"],[3,"formGroup","ngSubmit"],[1,"background","first_background"],[1,"form"],[1,"form-item"],["type","text","name","firstName","formControlName","firstName","aria-label","firstName","required","",1,"form-input",3,"ngModel","ngModelChange"],[1,"div1"],[1,"div2"],["type","text","name","sureName","formControlName","sureName","aria-label","sureName","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","text","name","fatherName","formControlName","fatherName","aria-label","fatherName","placeholder","\u0627\u062e\u062a\u06cc\u0627\u0631\u06cc",1,"form-input"],["name","nationalId","type","text","formControlName","nationalId","aria-label","nationalId","minlength","10","maxlength","10","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","text","name","mobile","formControlName","mobile","aria-label","mobile","maxlength","11","minlength","11","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","text","name","phoneNumber","formControlName","phoneNumber","aria-label","phoneNumber","minlength","8","maxlength","10","placeholder","\u0627\u062e\u062a\u06cc\u0627\u0631\u06cc",1,"form-input"],["type","text","name","neighbourBillId","formControlName","neighbourBillId","aria-label","neighbourBillId","minlength","3","maxlength","13","required","","readonly","",1,"form-input",3,"ngModel","ngModelChange"],["type","text","name","postalCode","formControlName","postalCode","aria-label","postalCode","minlength","9","maxlength","10","placeholder","\u0627\u062e\u062a\u06cc\u0627\u0631\u06cc",1,"form-input"],["type","text","name","address","formControlName","address","aria-label","address","minlength","10","required","",1,"form-input",3,"ngModel","ngModelChange"],[1,"justify_center"],[1,"button_content","space_evenly"],[1,"container"],["type","radio","formControlName","SelectedServices","value","1"],[1,"checkmark"],["type","radio","formControlName","SelectedServices","value","2"],[1,"hr_1"],["type","submit"]],template:function(e,t){1&e&&(h.Pb(0,"section"),h.Pb(1,"div",0),h.Pb(2,"h1"),h.vc(3," \u062e\u0631\u06cc\u062f \u0627\u0646\u0634\u0639\u0627\u0628 "),h.Ob(),h.Ob(),h.Pb(4,"main",1),h.Pb(5,"form",2),h.Xb("ngSubmit",(function(){return t.onSubmit()})),h.Pb(6,"div",3),h.Pb(7,"div",4),h.Pb(8,"div",5),h.Pb(9,"input",6),h.Xb("ngModelChange",(function(e){return t.firstName=e})),h.Ob(),h.Ob(),h.Pb(10,"div",7),h.Pb(11,"p"),h.vc(12,"\u0646\u0627\u0645"),h.Ob(),h.Lb(13,"div",8),h.Ob(),h.Ob(),h.Pb(14,"div",4),h.Pb(15,"div",5),h.Pb(16,"input",9),h.Xb("ngModelChange",(function(e){return t.sureName=e})),h.Ob(),h.Ob(),h.Pb(17,"div",7),h.Pb(18,"p"),h.vc(19,"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"),h.Ob(),h.Lb(20,"div",8),h.Ob(),h.Ob(),h.Pb(21,"div",4),h.Pb(22,"div",5),h.Lb(23,"input",10),h.Ob(),h.Pb(24,"div",7),h.Pb(25,"p"),h.vc(26,"\u0646\u0627\u0645 \u067e\u062f\u0631"),h.Ob(),h.Lb(27,"div",8),h.Ob(),h.Ob(),h.Pb(28,"div",4),h.Pb(29,"div",5),h.Pb(30,"input",11),h.Xb("ngModelChange",(function(e){return t.nationalId=e})),h.Ob(),h.Ob(),h.Pb(31,"div",7),h.Pb(32,"p"),h.vc(33,"\u06a9\u062f \u0645\u0644\u06cc"),h.Ob(),h.Lb(34,"div",8),h.Ob(),h.Ob(),h.Pb(35,"div",4),h.Pb(36,"div",5),h.Pb(37,"input",12),h.Xb("ngModelChange",(function(e){return t.mobileNumber=e})),h.Ob(),h.Ob(),h.Pb(38,"div",7),h.Pb(39,"p"),h.vc(40,"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647"),h.Ob(),h.Lb(41,"div",8),h.Ob(),h.Ob(),h.Pb(42,"div",4),h.Pb(43,"div",5),h.Lb(44,"input",13),h.Ob(),h.Pb(45,"div",7),h.Pb(46,"p"),h.vc(47,"\u062a\u0644\u0641\u0646 \u062b\u0627\u0628\u062a"),h.Ob(),h.Lb(48,"div",8),h.Ob(),h.Ob(),h.Pb(49,"div",4),h.Pb(50,"div",5),h.Pb(51,"input",14),h.Xb("ngModelChange",(function(e){return t.neighbourBillId=e})),h.Ob(),h.Ob(),h.Pb(52,"div",7),h.Pb(53,"p"),h.vc(54,"\u0634\u0646\u0627\u0633\u0647 \u0647\u0645\u0633\u0627\u06cc\u0647"),h.Ob(),h.Lb(55,"div",8),h.Ob(),h.Ob(),h.Pb(56,"div",4),h.Pb(57,"div",5),h.Lb(58,"input",15),h.Ob(),h.Pb(59,"div",7),h.Pb(60,"p"),h.vc(61,"\u06a9\u062f \u067e\u0633\u062a\u06cc"),h.Ob(),h.Lb(62,"div",8),h.Ob(),h.Ob(),h.Pb(63,"div",4),h.Pb(64,"div",5),h.Pb(65,"input",16),h.Xb("ngModelChange",(function(e){return t.address=e})),h.Ob(),h.Ob(),h.Pb(66,"div",7),h.Pb(67,"p"),h.vc(68,"\u0646\u0634\u0627\u0646\u06cc"),h.Ob(),h.Lb(69,"div",8),h.Ob(),h.Ob(),h.Ob(),h.Pb(70,"div",17),h.Pb(71,"h3"),h.vc(72,"\u0644\u0637\u0641\u0627 \u06cc\u06a9\u06cc \u0627\u0632 \u062e\u062f\u0645\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),h.Ob(),h.Ob(),h.Pb(73,"div",18),h.Pb(74,"label",19),h.vc(75,"\u0627\u0646\u0634\u0639\u0627\u0628 \u0622\u0628 "),h.Lb(76,"input",20),h.Lb(77,"span",21),h.Ob(),h.Pb(78,"label",19),h.vc(79,"\u0627\u0646\u0634\u0639\u0627\u0628 \u0622\u0628 \u0648 \u0641\u0627\u0636\u0644\u0627\u0628 "),h.Lb(80,"input",22),h.Lb(81,"span",21),h.Ob(),h.Ob(),h.Lb(82,"hr",23),h.Pb(83,"div",17),h.Pb(84,"button",24),h.vc(85,"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062e\u0631\u06cc\u062f"),h.Ob(),h.Ob(),h.Ob(),h.Ob(),h.Ob(),h.Lb(86,"app-spinner-wrapper")),2&e&&(h.zb(5),h.cc("formGroup",t.profileForm),h.zb(4),h.cc("ngModel",t.firstName),h.zb(7),h.cc("ngModel",t.sureName),h.zb(14),h.cc("ngModel",t.nationalId),h.zb(7),h.cc("ngModel",t.mobileNumber),h.zb(14),h.cc("ngModel",t.neighbourBillId),h.zb(14),h.cc("ngModel",t.address))},directives:[i.p,i.i,i.d,i.a,i.h,i.c,i.n,i.g,i.f,i.l,g.a],styles:['.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-shadow:5px 0 20px rgba(0,0,0,.2);height:3rem;width:3rem;overflow:hidden;width:95%;margin:.3rem auto;border-radius:3em}.form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:52%;height:auto;flex-grow:1;background:#d3d3d3}.form[_ngcontent-%COMP%]   .form-button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{font-family:inherit;border-radius:inherit;font-weight:600}.form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:0 1rem;font-family:inherit;outline:none;text-align:right;font-size:1.44rem;height:10rem;border-radius:30px;z-index:1;width:100%}.form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.form[_ngcontent-%COMP%]   .form-input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.form[_ngcontent-%COMP%]   .form-button[_ngcontent-%COMP%]{background:#00368c;font-size:1rem;margin-left:auto;color:#fff;border:0;min-width:7rem;padding:0}.div1[_ngcontent-%COMP%]{position:relative;height:100%;border-radius:0 30px 30px 0;padding:10px;background:#004ecc;width:48%}.div1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex-direction:row;color:#fff;line-height:2;width:86%;margin:auto;transform:translate(2px,-5px);font-size:1.1rem;font-weight:900}.div1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%]{position:absolute}.div2[_ngcontent-%COMP%]{padding:19px;height:8px;width:8px;border-radius:0 50px;background:#d3d3d3;transform:rotate(45deg);transform-origin:21% -55%}button[_ngcontent-%COMP%]{color:#fff;font-size:1.4rem;line-height:1.5;font-weight:700;font-family:inherit;padding:.375rem .75rem;height:3rem;min-width:20rem;width:93%;outline:none;border-radius:30px;background-color:#116fff;box-shadow:0 0 10px rgba(17,111,255,.5);margin-bottom:.9rem;cursor:pointer;display:flex;place-items:center;align-items:center;place-content:space-evenly}@media screen and (max-width:414px){button[_ngcontent-%COMP%]{font-size:1.3rem}}.hr_1[_ngcontent-%COMP%]{margin-bottom:1.5rem;height:.4rem}.hr_1[_ngcontent-%COMP%], .hr_2[_ngcontent-%COMP%]{width:70%;border-radius:30px;background:#eee}.hr_2[_ngcontent-%COMP%]{opacity:.7;margin:2.5rem auto;height:.2rem}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{outline:none}.m_font_size[_ngcontent-%COMP%]{font-size:1.2rem!important}.justify_center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.space_evenly[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.text_align_right[_ngcontent-%COMP%]{text-align:right}.enter[_ngcontent-%COMP%], .text_align_center[_ngcontent-%COMP%]{text-align:center}.enter[_ngcontent-%COMP%]{margin:auto}.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#d3d3d3}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:2rem;width:2rem;background-color:#eee;border-radius:50%}.container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#e91e63}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{transform:translateX(-50%) translateY(-50%);top:50%;left:50%;width:40%;height:40%;background:#fff;border-radius:50%}.background[_ngcontent-%COMP%]{display:grid}button[_ngcontent-%COMP%]{background:#08c000;width:auto;margin-top:1rem;justify-content:center;transition:background .25s ease-in-out}button[_ngcontent-%COMP%]:disabled{background:#e1645d}@media (max-width:549px){.background[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (min-width:550px){.background[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width:1000px){.background[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.title_content[_ngcontent-%COMP%]{display:flex;justify-content:center}.title_content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#00368c;margin:1rem}.container[_ngcontent-%COMP%]{color:#004ecc;font-weight:600}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{border:1px solid #004ecc}.justify_center[_ngcontent-%COMP%]{color:#656464;font-size:1.2rem}hr[_ngcontent-%COMP%]{background:#116fff;margin:1rem auto}']}),e})()}];let p=(()=>{class e{}return e.\u0275mod=h.Ib({type:e}),e.\u0275inj=h.Hb({factory:function(t){return new(t||e)},imports:[[o.f.forChild(u)],o.f]}),e})(),f=(()=>{class e{}return e.\u0275mod=h.Ib({type:e}),e.\u0275inj=h.Hb({factory:function(t){return new(t||e)},imports:[[r.a,i.m,p]]}),e})()}}]);